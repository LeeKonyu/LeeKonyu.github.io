I"ÿI<p>åŸæ–‡æ¥è‡ªï¼š<a href="https://www.smashingmagazine.com/2015/03/better-browser-input-events/">Browser Input Events: Can We Do Better Than The Click?</a></p>

<p>å“åº”ç”¨æˆ·çš„è¾“å…¥å¯ä»¥è¯´æ˜¯æˆ‘ä»¬åšç•Œé¢å¼€å‘çš„æ ¸å¿ƒã€‚ä¸ºäº†æ„å»ºå¯å“åº”çš„Webäº§å“ï¼Œç†è§£è§¦æ‘¸ã€é¼ æ ‡ã€æŒ‡é’ˆã€é”®ç›˜æ“ä½œå’Œæµè§ˆå™¨çš„å·¥ä½œåŸç†æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚ä½ å¯èƒ½åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­ç»å†è¿‡<a href="http://ionicframework.com/blog/hybrid-apps-and-the-curse-of-the-300ms-delay/" target="_blank">300-millisecond delay</a>(300 mså»¶è¿Ÿ)æˆ–è€…<a href="https://docs.google.com/document/d/12k_LL_Ot9GjF8zGWP9eI_3IMbSizD72susba0frg44Y/" target="_blank">wrestled with touchmove versus scrolling</a>(è§¦æ‘¸æ»šåŠ¨å¯¼è‡´é¡µé¢å¡é¡¿)ã€‚</p>

<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»äº‹ä»¶çº§è”å’Œä½¿ç”¨è¿™äº›çŸ¥è¯†æ¥å®ç°æ¼”ç¤ºä¸€ä¸ªtapç‚¹å‡»äº‹ä»¶ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ–¹æ³•ä½†æ˜¯åˆæ²¡æœ‰è¿ååƒOpera Miniè¿™ä¸€ç±»çš„ä»£ç†æµè§ˆå™¨è§„åˆ™ã€‚</p>

<p><small>æ³¨ï¼štapä¹Ÿç¿»è¯‘ä¸ºç‚¹å‡»ï¼Œtapå’Œclickéƒ½æ˜¯åœ¨ç‚¹å‡»æ—¶å€™è§¦å‘ï¼Œä½†åœ¨æ‰‹æœºWebç«¯clickä¼šæœ‰200~300mså»¶è¿Ÿï¼Œä¸ºäº†é¿å…æ­§ä¹‰ï¼Œä¸‹æ–‡å°†â€ tap eventâ€œç¿»è¯‘æˆâ€œtapç‚¹å‡»äº‹ä»¶â€œ</small></p>

<h3 id="æ¦‚å†µ">æ¦‚å†µ</h3>
<p>ç›®å‰è¢«ç”¨äºä¸Webäº¤äº’çš„3ç§ä¸»è¦çš„äº¤äº’æ–¹å¼æ˜¯ï¼šæ•°å­—å…‰æ ‡ï¼ˆé¼ æ ‡ï¼‰ã€è§¦è§‰ï¼ˆç›´æ¥è§¦æ‘¸æˆ–è€…æ‰‹å†™ç¬”ï¼‰ã€é”®ç›˜ã€‚åœ¨JavaScriptä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡<a href="http://www.w3.org/TR/touch-events/" target="_blank">è§¦æ‘¸äº‹ä»¶</a>,<a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mouseevents" target="_blank">é¼ æ ‡äº‹ä»¶</a>,<a href="http://www.w3.org/TR/pointerevents/" target="_blank">æŒ‡é’ˆäº‹ä»¶</a>å’Œ<a href="http://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/#keys" target="_blank">é”®ç›˜äº‹ä»¶</a>æ¥ä½¿ç”¨å®ƒä»¬ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¸»è¦è®¨è®ºè§¦æ‘¸å’ŒåŸºäºé¼ æ ‡çš„äº¤äº’ï¼Œè™½ç„¶è¿™é‡Œæœ‰é”®ç›˜äº‹ä»¶å·²ç»å½¢æˆæ ‡å‡†ï¼Œå¦‚clickå’Œsubmitäº‹ä»¶ã€‚</p>

<p>ä½ å¾ˆæœ‰å¯èƒ½å·²ç»å®ç°è¿‡é¼ æ ‡å’Œè§¦æ‘¸äº‹ä»¶çš„å¤„ç†ç¨‹åºï¼Œåœ¨è¿‡å»æˆ‘ä»¬æ¨èçš„åšæ³•æ˜¯è¿™æ ·ï¼š</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** DO NOT EVER DO THIS! */</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="dl">'</span><span class="s1">ontouchstart</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)?</span><span class="dl">'</span><span class="s1">touchend</span><span class="dl">'</span><span class="p">:</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span><span class="nx">handler</span><span class="p">);</span></code></pre></figure>

<p>å¾®è½¯å·²ç»è´Ÿè´£åˆ›å»ºäº†ä¸€ä¸ªæ›´å¥½çš„ï¼Œæ›´æœ‰å‰é€”çš„â€œæŒ‡é’ˆäº‹ä»¶â€çš„äº‹ä»¶æ¨¡å‹è§„èŒƒã€‚æŒ‡é’ˆäº‹ä»¶æ˜¯ä¸€ä¸ªæŠ½è±¡çš„è¾“å…¥æœºåˆ¶,ç°åœ¨æ˜¯W3Cæ¨èæ ‡å‡†ã€‚æŒ‡é’ˆäº‹ä»¶ç»™ç”¨æˆ·ä»£ç†(UA)å¸¦æ¥çµæ´»æ€§ï¼Œç»™ä¸€ä¸ªäº‹ä»¶ç³»ç»Ÿæä¾›ä¸°å¯Œçš„è¾“å…¥æœºåˆ¶ã€‚é¼ æ ‡ã€è§¦æ‘¸ã€æ‰‹å†™ç¬”æ˜¯ä»Šå¤©å¾ˆå®¹æ˜“æƒ³åˆ°çš„è¾“å…¥æ–¹å¼ï¼Œä½†å®ç°å»¶ä¼¸åˆ°<a href="https://www.thalmic.com/en/myo/" target="_blank">myo</a>ï¼ˆè‚Œï¼‰å’Œ<a href="http://logbar.jp/ring/en/" target="_blank">Ring</a>ï¼ˆç¯ï¼‰ä¹Ÿæ˜¯å¯å®ç°çš„ã€‚è™½ç„¶Webå¼€å‘è€…å¯¹è¿™äº›ä¼¼ä¹å¾ˆå…´å¥‹ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨å¼€å‘è€…ä¹Ÿä¼šè¿™æ ·ä»¥ä¸ºã€‚å°±åƒè‹¹æœå’Œè°·æ­Œç°åœ¨å°±æ²¡æœ‰æ‰“ç®—æ¥å®ç°æŒ‡é’ˆäº‹ä»¶ã€‚<br />
è°·æ­Œçš„è¿™ä¸ªå†³å®šå¹¶ä¸æ˜¯ä»–ä»¬æœ€ç»ˆçš„å†³å®šï¼Œä½†æ˜¯ç›®å‰åœ¨æŒ‡é’ˆäº‹ä»¶ä¸Šæ²¡æœ‰æ´»è·ƒçš„å·¥ä½œã€‚æˆ‘ä»¬é€šè¿‡polyfillsè¾“å…¥å’Œä½¿ç”¨æŒ‡é’ˆäº‹ä»¶å’Œæ›¿ä»£è§£å†³æ–¹æ¡ˆå°†æˆä¸ºç­‰å¼çš„ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½æœ€ç»ˆèµ·å†³å®šä½œç”¨ã€‚è‹¹æœåœ¨2012å¹´å‘è¡¨ç”³æ˜åå¯¹æŒ‡é’ˆäº‹ä»¶ï¼Œæˆ‘ç°åœ¨æ²¡æœ‰ä»Safariçš„å·¥ç¨‹å¸ˆé‚£é‡Œå¾—åˆ°ä»»ä½•å…¬ä¼—å›åº”ã€‚</p>

<h3 id="äº‹ä»¶çº§è”">äº‹ä»¶çº§è”</h3>
<p>å½“ç”¨æˆ·åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šé¢tapç‚¹å‡»ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæµè§ˆå™¨ä¼šè§¦å‘ä¸€ç³»åˆ—äº‹ä»¶ï¼š</p>

<blockquote>
  <p>touchstart â†’ touchend â†’ mouseover â†’ mousemove â†’ mousedown â†’ mouseup â†’ click</p>
</blockquote>

<p>è¿™æ˜¯ç”±äºWebçš„å‘åå…¼å®¹æ€§ï¼ŒæŒ‡é’ˆäº‹ä»¶é‡‡å–çš„ä¸€ç§å¯æ›¿ä»£æ–¹æ¡ˆæ¥è§¦å‘äº‹ä»¶å†…è”çš„å…¼å®¹æ€§ï¼š</p>

<blockquote>
  <p>mousemove â†’ pointerover â†’ mouseover â†’ pointerdown â†’ mousedown â†’ gotpointercapture â†’ pointerup â†’ mouseup â†’ lostpointercapture â†’ pointerout â†’ mouseout â†’ focus â†’ click</p>
</blockquote>

<p>äº‹ä»¶è§„èŒƒå…è®¸ç”¨æˆ·ä»£ç†ä»¬ç”¨ä¸åŒçš„æ–¹å¼æ¥å®ç°å…¼å®¹æ€§çš„äº‹ä»¶ï¼ŒPatrick Laukeå’ŒPeter-Paul Kochç»´æŠ¤ç€å…³äºè¿™ä¸€ä¸»é¢˜çš„å¹¿æ³›çš„å‚è€ƒææ–™ï¼ˆèµ„æºé“¾æ¥ä½äºæ–‡ç« åº•éƒ¨ï¼‰ã€‚
 ä»¥ä¸‹å›¾ç‰‡æ˜¾ç¤ºä¸‹åˆ—è¡Œä¸ºçš„äº‹ä»¶ä¸²ï¼š</p>

<ol>
  <li>é¦–æ¬¡tapç‚¹å‡»ä¸€ä¸ªå…ƒç´ ,</li>
  <li>ç¬¬äºŒæ¬¡tapç‚¹å‡»ä¸€ä¸ªå…ƒç´ ,</li>
  <li>tapç‚¹å‡»å…³é—­å…ƒç´ ,</li>
</ol>

<p>è¯·æ³¨æ„ï¼šä¸ºäº†é€‚åº”è¿™ä¸ªæ ˆè¿™ä¸ªäº‹ä»¶æ ˆæ•…æ„å¿½ç•¥äº†focuså’Œbluräº‹ä»¶ã€‚</p>

<p><img src="http://tw93.github.io/images/01-ios-opt-small.png" alt="IOS Touch Events" />  <br />
<small>åœ¨IOSè®¾å¤‡ä¸Šçš„tapç‚¹å‡»ä¸€ä¸ªå…ƒç´ ä¸¤æ¬¡å’Œæ¾å¼€çš„äº‹ä»¶çº§è”</small>
<br /><br />
<img src="http://tw93.github.io/images/02-android-opt-small.png" alt="Android4.4 Touch Events" /> <br />
<small>åœ¨ Android 4.4 è®¾å¤‡ä¸Šçš„tapç‚¹å‡»ä¸€ä¸ªå…ƒç´ ä¸¤æ¬¡å’Œæ¾å¼€çš„äº‹ä»¶çº§è”</small>
<br /><br />
<img src="http://tw93.github.io/images/03-pointer-opt-small.png" alt="Android4.4 Touch Events" />  <br />
<small>åœ¨Internet Explorer 11ï¼ˆåœ¨å…¼å®¹çš„è§¦æ‘¸äº‹ä»¶å®ç°ï¼‰ä¸Štapç‚¹å‡»å…ƒç´ ä¸¤æ¬¡ç„¶åæ¾å¼€çš„äº‹ä»¶çº§è”</small></p>

<h3 id="åº”ç”¨äº‹ä»¶çº§è”">åº”ç”¨äº‹ä»¶çº§è”</h3>
<p>ç”±äºæµè§ˆå™¨å·¥ç¨‹å¸ˆçš„å·¥ä½œï¼Œå¤§å¤šæ•°ç°åœ¨å»ºæˆçš„æ¡Œé¢ç½‘ç«™â€œåªæ˜¯å¯ä»¥å·¥ä½œè€Œå·²â€ã€‚å°½ç®¡çº§è”çœ‹èµ·æ¥æœ‰ç‚¹ç²—ç³™ï¼Œä½†å»ºç«‹é¼ æ ‡äº‹ä»¶æ˜¯æˆ‘ä»¬ä»¥å‰é€šå¸¸å·¥ä½œçš„ä¿å®ˆåšæ³•ã€‚<br />
å½“ç„¶ï¼Œ300msçš„å»¶è¿Ÿé—®é¢˜æ¯”èµ·åœ¨æ»šåŠ¨å’Œtouchmoveå’Œpointermoveäº‹ä»¶ç›¸äº’ä½œç”¨ï¼Œè¿˜æœ‰æµè§ˆå™¨æ¸²æŸ“é—®é¢˜è¿™äº›é¢å¤–çš„é—®é¢˜æ›´åŠ è‡­åæ˜­è‘—ã€‚é¿å…300 msçš„å»¶è¿Ÿå¾ˆå®¹æ˜“ï¼Œå¦‚æœï¼š</p>

<ul>
  <li>æˆ‘ä»¬åªä¸ºç°ä»£çš„Androidå’Œæ¡Œé¢ç«¯çš„Chromeä¼˜åŒ–ï¼Œé€šè¿‡ä½¿ç”¨<meta name="viewport" content="width=device-width" />æ¥å¯åŠ¨ç¦ç”¨å»¶è¿Ÿè¿™ä¸€åŠŸèƒ½ã€‚</li>
  <li>æˆ‘ä»¬åªä¸ºIOSè®¾å¤‡ä¼˜åŒ–ï¼Œç”¨æˆ·æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç‚¹å‡»ï¼Œä¸æ˜¯é‚£ç§å¿«é€Ÿçš„ç‚¹å‡»æˆ–è€…é•¿æŒ‰ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªå…ƒç´ è‰¯å¥½çš„ã€æ­£å¸¸çš„ã€æ˜ç¡®çš„ç‚¹å‡»ã€‚</li>
</ul>

<p>å¦‚æœæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å»ºç«‹ä¸€ä¸ªèƒ½åœ¨ç”¨æˆ·ä½“éªŒå’Œæœ¬åœ°åº”ç”¨åª²ç¾çš„Webåº”ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å‡å°‘äº¤äº’å“åº”çš„å»¶è¿Ÿã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åŸå§‹äº‹ä»¶ï¼ˆå¦‚down,move,upï¼‰ä¸Šåˆ›å»ºæˆ‘ä»¬å±äºè‡ªå·±çš„å¤åˆäº‹ä»¶(click,double-click),å½“ç„¶æˆ‘ä»¬è¿˜éœ€è¦å¯¹æœ¬åœ°äº‹ä»¶çš„å›é€€å¤„ç†æä¾›å¹¿æ³›å’Œå¯è¡Œçš„æ”¯æŒã€‚</p>

<p>åšè¿™äº›éœ€è¦ä¸å°‘çš„ä»£ç å’ŒçŸ¥è¯†ã€‚ä¸ºäº†é¿å…åœ¨æµè§ˆå™¨ä¸­çš„300mså»¶è¿Ÿï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸå†…çš„è‡ªæˆ‘äº¤äº’ã€‚å¯¹äºä¸€ä¸ªç»™å®šï½›ç±»å‹ï½çš„downäº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç»‘å®šæ‰€æœ‰å¿…éœ€çš„äº‹ä»¶æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼Œå½“äº¤äº’å·²ç»å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦æ¸…ç†è‡ªå·±è§£ç»‘çš„èµ·å§‹äº‹ä»¶ã€‚</p>

<p>ç½‘ç«™å¼€å‘äººå‘˜ï¼Œä½ æ˜¯å”¯ä¸€ä¸€ä¸ªçŸ¥é“é¡µé¢æ˜¯å¦åº”è¯¥æ”¾å¤§æˆ–å¦ä¸€ä¸ªåŒå‡»äº‹ä»¶æ˜¯å¦å¿…é¡»ç­‰å¾…çš„äººã€‚å¦‚æœåªæœ‰ä½ éœ€è¦å›è°ƒæ¨è¿Ÿä½ åº”è¯¥å…è®¸ä¸€ä¸ªé¢„å®šçš„åŠ¨ä½œæ¥å»¶è¿Ÿã€‚</p>

<p>åœ¨æ¥ä¸‹æ¥é“¾æ¥ä¸­ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªå°çš„ã€ç›¸äº’é—´æ— ä¾èµ–çš„tapäº‹ä»¶Demoæ¥åˆ›é€ ä¸€ä¸ªå¤šè¾“å…¥ã€ä½å»¶è¿Ÿçš„tapç‚¹å‡»äº‹ä»¶ã€‚Polymer-gesturesæ˜¯ä¸€ä¸ªä¸ºtapç‚¹å‡»å’Œå…¶ä»–äº‹ä»¶ç”Ÿäº§å¼€å‘çš„åº“ã€‚å°½ç®¡æ˜¯è¿™ä¸ªåå­—æœ‰Polymerï¼Œä½†æ˜¯å®ƒæ˜¯ä¸ä¾èµ–Polymeråº“è€Œä¸”å¾ˆå®¹æ˜“è¢«éš”ç¦»ã€‚</p>

<p>æ˜ç¡®çš„è¯´ï¼Œå®æ–½è¿™ä¸ªä»ä¸€å¼€å§‹æ¥è¯´å°±æ˜¯ä¸€ä¸ªåä¸»æ„ï¼Œä»¥ä¸‹è¿™äº›åº”è¯¥ä»…ä»…ç”¨äºæ•™è‚²è€Œä¸æ˜¯ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚ç”¨äºç”Ÿäº§ç¯å¢ƒçš„åº“å·²ç»å­˜åœ¨ï¼Œä¾‹å¦‚ï¼š<a href="https://github.com/ftlabs/fastclick/" target="_blank"> FastClick</a>,<a href="https://github.com/Polymer/polymer-gestures" target="_blank">polymer-gestures</a>å’Œ<a href="http://hammerjs.github.io/" target="_blank">Hammer.js</a>ã€‚</p>

<ul>
  <li>Demoï¼š<a href="https://github.com/Skookum/smashing-input-events/blob/gh-pages/taps.html" target="_blank">The tap event</a></li>
  <li>Code:<a href="https://github.com/Skookum/smashing-input-events/blob/gh-pages/taps.js#L1" target="_blank">taps.js</a></li>
</ul>

<h3 id="é‡è¦éƒ¨åˆ†">é‡è¦éƒ¨åˆ†</h3>

<p>åœ¨æ‰€æœ‰å¼€å§‹çš„åœ°æ–¹ç»‘å®šä½ çš„åˆå§‹äº‹ä»¶ï¼Œè¿™ä¸‹é¢å¤„ç†å¤šè¾“å…¥çš„æ¨¡å¼æ˜¯è¢«è®¤ä¸ºä¸€ç§ä¿é™©çš„æ–¹å¼ã€‚</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/**
 * If there are pointer events, let the platform handle the input 
 * mechanism abstraction. If not, then itâ€™s on you to handle 
 * between mouse and touch events.
 */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">hasPointer</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">tappable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">POINTER_DOWN</span><span class="p">,</span> <span class="nx">tapStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="nx">clickable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">POINTER_DOWN</span><span class="p">,</span> <span class="nx">clickStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">else</span> <span class="p">{</span>
  <span class="nx">tappable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">mousedown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">tapStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="nx">clickable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">mousedown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">clickStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">hasTouch</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tappable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">touchstart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">tapStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nx">clickable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">touchstart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">clickStart</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">clickable</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="nx">clickEnd</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span></code></pre></figure>

<p>ç»‘å®štouchäº‹ä»¶éœ€è¦å’Œæ¸²æŸ“æ€§èƒ½å¦¥åï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰åšä»»ä½•äº‹ï¼Œä½†ä¸ºäº†å‡å°‘è¿™ç§å½±å“ï¼Œé€šå¸¸æ¨èåœ¨å¤„ç†ç¨‹åºå¼€å§‹æ—¶å€™ç»‘å®šè·Ÿè¸ªäº‹ä»¶ã€‚åˆ«å¿˜äº†åœ¨å®Œæˆä½ çš„äº‹ä»¶å¤„ç†åè¦æ¸…ç†è‡ªå·±çš„ç¯å¢ƒå’Œè§£ç»‘è·Ÿè¸ªäº‹ä»¶ã€‚</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/**
 * On tapStart we want to bind our move and end events to detect 
 * whether this is a â€œtapâ€ action.
 * @param {Event} event the browser event object
 */</span>

<span class="kd">function</span> <span class="nx">tapStart</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// bind tracking events. â€œbindEventsForâ€ is a helper that automatically </span>
  <span class="c1">// binds the appropriate pointer, touch or mouse events based on our </span>
  <span class="c1">// current event type. Additionally, it saves the event target to give </span>
  <span class="c1">// us similar behavior to pointer eventsâ€™ â€œsetPointerCaptureâ€ method.</span>

  <span class="nx">bindEventsFor</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">event</span><span class="p">.</span><span class="nx">setPointerCapture</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">function</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">setPointerCapture</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">pointerId</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// prevent the cascade</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  
  <span class="c1">// start our profiler to track time between events</span>
  <span class="kd">set</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="dl">'</span><span class="s1">tapStart</span><span class="dl">'</span><span class="p">,</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/**
 * tapEnd. Our work here is done. Letâ€™s clean up our tracking events.
 * @param {Element} target the html element
 * @param {Event} event the browser event object
 */</span>

<span class="kd">function</span> <span class="nx">tapEnd</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">unbindEventsFor</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="nx">target</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">_id</span> <span class="o">=</span> <span class="nx">idFor</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
  <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Tap</span><span class="dl">'</span><span class="p">,</span> <span class="nx">diff</span><span class="p">(</span><span class="kd">get</span><span class="p">(</span><span class="nx">_id</span><span class="p">,</span> <span class="dl">'</span><span class="s1">tapStart</span><span class="dl">'</span><span class="p">),</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()));</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">events</span><span class="p">[</span><span class="nx">_id</span><span class="p">];</span>
  <span class="p">});</span></code></pre></figure>

<p>å‰©ä¸‹çš„è¿™äº›ä»£ç åº”è¯¥èƒ½å¤Ÿå¾ˆå¥½çš„è‡ªæˆ‘è§£é‡Šï¼Œäº‹å®ä¸Šï¼Œå®ƒæœ‰å¾ˆå¤šç°¿è®°ï¼Œå®ç°è‡ªå®šä¹‰æ‰‹åŠ¿è¦æ±‚ä½ ç”¨æµè§ˆå™¨äº‹ä»¶ç³»ç»Ÿæ¥ç´§å¯†åˆä½œã€‚ä¸ºäº†æŒ½æ•‘ä½ çš„å—ä¼¤å’Œå¿ƒç—›ï¼Œä¸è¦åœ¨ä½ è‡ªå·±çš„ä»£ç åº“é‡Œåšäº‹æƒ…ã€‚ç›¸åä½ åº”è¯¥å»ºç«‹æˆ–ä½¿ç”¨ä¸€ä¸ªå¼ºå¤§çš„æŠ½è±¡ï¼Œä¾‹å¦‚<a href="http://hammerjs.github.io/" target="_blank">Hammer.js</a>,jQuery polyfillçš„<a href="https://github.com/jquery/PEP" target="_blank">Pointer Events</a>æˆ–è€…<a href="https://github.com/Polymer/polymer-gestures" target="_blank">polymer-gestures</a>ã€‚</p>

<h3 id="æ€»ç»“">æ€»ç»“</h3>

<p>ä¸€äº›æ›¾ç»å¾ˆæ¸…æ¥šçš„äº‹ä»¶ç°åœ¨å´æ˜¯æœ‰æ­§ä¹‰çš„ï¼Œä»¥å‰clickäº‹ä»¶ç”¨æ¥æŒ‡æœ‰ä¸”åªæœ‰ä¸€ä»¶äº‹ï¼Œä½†æ˜¯ç°åœ¨åœ¨è§¦æ‘¸å±ä¸Šé¢éœ€è¦è¾¨åˆ«æ˜¯åŒå‡»ã€æ»šåŠ¨æˆ–è€…å…¶ä»–æ“ä½œç³»ç»Ÿçš„æ‰‹åŠ¿ã€‚</p>

<p>å¥½æ¶ˆæ¯æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨æ˜ç™½äº†å¾ˆå¤šç”¨æˆ·çš„æ“ä½œä¹ æƒ¯å’Œæµè§ˆå™¨çš„å“åº”ä¹‹é—´çš„äº‹ä»¶çº§è”å’Œç›¸äº’ä½œç”¨ï¼Œé€šè¿‡åœ¨å·¥ä½œä¸­è®¤è¯†çš„åŸè¯­ï¼Œæˆ‘ä»¬è‡ªå·±èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·å’ŒWebçš„æœªæ¥åšå‡ºæ›´å¥½çš„å†³ç­–ã€‚</p>

<p>ä½ åœ¨æ„å»ºå¤šè®¾å¤‡çš„ç½‘ç«™æ—¶ï¼Œæœ‰é‡åˆ°ä»€ä¹ˆæ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼Ÿä½ é‡‡å–ä»€ä¹ˆæ ·çš„æ–¹æ³•æ¥è§£å†³Webä¸Šä¼—å¤šçš„äº¤äº’æ¨¡å¼ï¼Ÿ</p>

<h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3>

<ul>
  <li><a href="http://arstechnica.com/information-technology/2015/02/pointer-events-finalized-but-apples-lack-of-support-still-a-deal-breaker/" target="_blank">â€œPointer Events Finalized, But Appleâ€™s Lack of Support Still a Deal Breaker,â€</a>Peter Bright</li>
  <li>Getting Touchy: An Introduction to Touch and Pointer Events,åŒ…æ‹¬<a href="http://patrickhlauke.github.io/getting-touchy-presentation/" target="_blank">slides</a>å’Œ<a href="https://www.youtube.com/watch?v=QYLC8o3U_XY" target="_blank">talk</a> Patrick E. Lauke</li>
  <li><a href="http://timkadlec.com/2015/02/apples-web/" target="_blank">â€œAppleâ€™s Web?â€</a> by Tim Kadlec</li>
  <li><a href="http://timkadlec.com/2013/11/Avoiding-the-300ms-click-delay-accessibly/" target="_blank">â€œAvoiding the 300ms Click Delay, Accessibly,â€</a> Tim Kadlec</li>
  <li><a href="http://www.quirksmode.org/mobile/tapleTouch.html" target="_blank">â€œTouch taple,â€</a> Peter-Paul Koch</li>
  <li><a href="http://blogs.msdn.com/b/ie/archive/2014/09/05/making-the-web-just-work-with-any-input.aspx" target="_blank">â€œMaking the Web â€˜Just Workâ€™ With Any Input: Mouse, Touch, and Pointer Events,â€</a> Jacob Rossi</li>
  <li><a href="https://github.com/ftlabs/fastclick" target="_blank">FastClick library</a></li>
  <li><a href="http://hammerjs.github.io/" target="_blank">Hammer.js</a></li>
  <li><a href="https://github.com/Polymer/polymer-gestures" target="_blank">polymer-gestures</a></li>
  <li><a href="https://github.com/jquery/PEP" target="_blank">Pointer Events</a>jQuery polyfill</li>
  <li><a href="https://developers.google.com/web/fundamentals/input/touch/touchevents/" target="_blank">â€œImplement Custom Gestures,â€</a> Google Developers</li>
</ul>
:ET